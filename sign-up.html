<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <title>Sign Up</title>
        <link href="main.css" rel="stylesheet" />
        <link href="sign-up.css" rel="stylesheet" />
        <script>
            const form = document.getElementById("submit")
            form.addEventListener("submit", (event) => {
                event.preventDefault()

                const formData = new FormData(form)

                alert(Object.fromEntries(formData))

                for (let key of formData.entries()) {
                    alert(`${key[0]}: ${key[1] || "Not provided"}`)
                }
            })
            console.log("Form entries added")

            function validate() {
                const passwordElement = document.getElementById("password")
                const passwordRetypeElement = document.getElementById("retype-password")

                if (passwordElement.value != passwordRetypeElement.value) {
                    alert("Your passwords inputted must be the same")
                    return
                }
            }
        </script>
    </head>
    <body>
        <div class="header">
            <h1>MyMiniGames</h1>
            <a href="homepage.html">Return to Home</a>
        </div>
        <hr>
        <form id="form" method="post">
            <legend>Sign Up</legend>
            <label for="username">Username
                <input name="username" id="username" type="text" pattern="^[a-z0-9\._]{3,20}$" placeholder = "Enter a username (3-20 characters)" required />
                <p class="username">Username can only contain letters a-z, numbers 0-9, dots and underscores</p>
            </label>
            <br>
            <label for="nickname">Nickname
                <input name="nickname" id="nickname" type="text" pattern="^\b[a-zA-Z0-9\._\s]{3,20}\b$" placeholder="Enter a nickname (optional) (3-20 characters)" />
                <p class="nickname">Nickname can only contain letters a-z, A-Z, numbers 0-9, dots, underscores and whitespaces. Nicknames cannot start or end in a whitespace</p>
                <p>If no nickname is set, this will default to your username</p>
            </label>
            <br>
            <label for="password">Password
                <input name="password" id="password" type="password" pattern="^[a-zA-Z0-9\s_]{5,20}$" placeholder="Enter a password (5-20 characters)" required />
                <p class="password">Password can only contain letters a-z, A-Z, numbers 0-9, whitespaces and underscores. Passwords cannot start or end in a whitespace</p>
            </label>
            <br>
            <label for="retype-password">Retype Password
                <input name="retype-password" id="retype-password" type="password" pattern="^[a-zA-Z0-9\s\._]{5,20}$" placeholder="Retype your password" required />
                <p class="retype-password">Passwords must match</p>
            </label>
            <br>
            <button type="submit" onsubmit="validate()">Create Account</button>
        </form>
        <br />
        <a href="sign-in.html">Sign In</a>
    </body>
</html>